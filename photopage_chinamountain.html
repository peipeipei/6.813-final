<!DOCTYPE html>
<html style="min-width:840px;">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    
    <link rel="stylesheet" type="text/css" href="photopage.css">
    <link rel="stylesheet" type="text/css" href="header.css">
    
    <link href='http://fonts.googleapis.com/css?family=Redressed' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
     <style>
    label, input { display:block; }
    input.text { margin-bottom:12px; width:95%; padding: .4em; }
    fieldset { padding:0; border:0; margin-top:25px; }
    h1 { font-size: 1.2em; margin: .6em 0; }
    div#users-contain { width: 350px; margin: 20px 0; }
    div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
    div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
    .ui-dialog .ui-state-error { padding: .3em; }
    .validateTips { border: 1px solid transparent; padding: 0.3em; }
  </style>
    <script type="text/javascript">
        var critiquesRef = new Firebase("https://6813-aperture.firebaseio.com/critiques");
        $(document).ready(function(){
            $(".comment_button").on("click", function(){
                var comment = $('textarea').val();
                var user = $('.glyphicon-user').text();
                var add = '<div class="a_comment">' + '<p class="username">' + user + '</p>' + '<div class="the_comment">' + comment + '</div></div>'
                $('.photopage_comments').append(add);
                $('textarea').val("");
            });
            
            $(".like-button").on("click",function(){
                if ($(this).hasClass("unliked")){
                    $(this).removeClass("unliked");
                    $(this).removeClass("glyphicon-heart-empty");
                    $(this).addClass("glyphicon-heart");
                    $(this).addClass("liked");
                }
                else{
                    $(this).removeClass("liked");
                    $(this).removeClass("glyphicon-heart");
                    $(this).addClass("glyphicon-heart-empty");
                    $(this).addClass("unliked");
                }
            });

            $("#send-request").on("click", function() {
              $("#myModal").modal('show');
            })

            $("#critique").on("click", function(){
                var critiqueRef = critiquesRef.push({
                    to: "John Smith",
                    from: "Alice Jones",
                    subject: "China Mountain",
                    time: "",
                    imageName: "chinamountain.jpg",
                    message: ""
                });
                var critiqueID = critiqueRef.key()
                window.location = "critique.html?q=" + critiqueID;
            })
        });


    </script>
    
    <title>PhotoCritque: China Mountain</title>
</head>
    
<body>

    <div class="header">

      <div class="top">
        <div class="col-xs-4" id="left-header">

        </div>

        <div class="col-xs-4" id="mid-header">
          <p id="logo">aperture</p>
        </div>

        <div class="col-xs-4" id="right-header">
          <button class="btn btn-default glyphicon glyphicon-envelope inbox-button"></button>
        </div>
      </div>

    </div>
    
    <div class="material">
      <div class="material_top">
          <div style="text-align: center;">
            <img src="photos/chinamountain.jpg" alt="China Mountain" style="width:100%;">
          </div>
      </div>
      
      <div class="bottom_left">
          <div class="photopage_descrip">
              <p  style = "font-size:20px; font-weight:bolder;"> China Mountain - <a class="username">John Smith</a></p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
              Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure 
              dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
              proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
              <!--  p>Photographer: <strong>bunnymaster</strong></p-->
          </div>
      </div> 
      
      <div class="bottom_right">
          
          <div class="button_area">
              <button id = "critique" title="Critique this Photo" class="btn btn-default" style="width:100%;"> <div style="font-family: 'Quattrocento Sans', sans-serif; font-size:30px;"> Critique</div></span></button>
          </div>
          
          <div class="camera_info">
              <table>
                  <tr>
                      <td class="cam_info_left">Camera</td>
                      <td class="cam_info_right">Nikon D700</td>
                  </tr>
                  
                  <tr>
                      <td class="cam_info_left">Focal Length</td>
                      <td class="cam_info_right">85mm</td>
                  </tr>
                  
                  <tr>
                      <td class="cam_info_left">Shutter Speed</td>
                      <td class="cam_info_right">1/320 s</td>
                  </tr>
                  
                  <tr>
                      <td class="cam_info_left">Aperture</td>
                      <td class="cam_info_right">f/1.4</td>
                  </tr>
                  
                  <tr>
                      <td class="cam_info_left">ISO/Film</td>
                      <td class="cam_info_right">200</td>
                  </tr>
                  
              </table>
          </div>
          
          
      </div>
    </div>

<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Send a Request</h4>
            </div>
            <div class="modal-body">
                <!--<p>Do you want to save changes you made to document before closing?</p>
                <p class="text-warning"><small>If you don't save, your changes will be lost.</small></p>-->
                           <form>
                <div class = "form-group">
                  <input type="text" class="form-control" name="field1" placeholder="Critiquer's Username" />
                </div>

                <div class = "form-group">
                  <input type="email" class="form-control" name="field2" placeholder="Email" />
                </div>

                <div class = "form-group">
                  <input type="url" class="form-control" name="field3" placeholder="Website" />
                </div>

                <div class = "form-group">
                  <textarea class = "form-control" name="field4" placeholder = "Message"></textarea>
                </div>
                <!--<textarea class="overlay-textarea" placeholder="Message" onkeyup="adjust_textarea(this)"></textarea>-->
            </form> 
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Send Request</button>
            </div>
        </div>
    </div>
</div>

    <script>
        //this currently only works down here....
        //auto expand textarea
        function adjust_textarea(h) {
            h.style.height = "20px";
            h.style.height = (h.scrollHeight)+"px";
        }
    </script>
</body>
</html>